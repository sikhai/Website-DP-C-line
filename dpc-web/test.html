<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scroll Animation with Cover Images</title>
    <style>
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
        }

        .banner {
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .image-container {
            position: relative;
            width: 800px;  /* Initial width */
            height: 500px; /* Initial height */
            overflow: hidden;
        }

        .image-container img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .cover-image {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-size: cover;
            background-position: center;
        }

        .cover-top { clip-path: inset(0 50% 50% 0); }
        .cover-right { clip-path: inset(0 0 50% 50%); }
        .cover-bottom { clip-path: inset(50% 0 0 50%); }
        .cover-left { clip-path: inset(50% 50% 0 0); }

        .content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            color: white;
            z-index: 10;
        }

        .overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.3);
        }
    </style>
</head>
<body>
    <section class="banner">
        <div class="image-container">
            <img src="images/spacejoy-YI2YkyaREHk-unsplash.jpg" alt="Main Image">
            <div class="overlay"></div>
        </div>
        <div class="content">
            <p>PROJECT OF THE MONTH</p>
            <h3>JW MARRIOT PHU QUOC RESORT</h3>
        </div>
    </section>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/ScrollTrigger.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Register the ScrollTrigger plugin
            gsap.registerPlugin(ScrollTrigger);
            
            // Ensure the title is initially hidden and off-screen
            gsap.set(".banner .content", {
                opacity: 0,
                y: 300
            });
            
            // Add 4 cover images to the DOM
            const imageContainer = document.querySelector('.image-container');
            const coverPositions = ['top', 'right', 'bottom', 'left'];
            coverPositions.forEach((position, index) => {
                const coverImg = document.createElement('div');
                coverImg.className = `cover-image cover-${position}`;
                coverImg.style.backgroundImage = `url('images/cover-image-${index + 1}.jpg')`;
                imageContainer.appendChild(coverImg);
            });
            
            // Main image container animation
            gsap.to(".image-container", {
                width: "1400px",
                height: "860px",
                scrollTrigger: {
                    trigger: ".banner",
                    start: "center center",
                    end: "bottom 70%",
                    pin: ".banner",
                    pinSpacing: false,
                    scrub: true,
                    markers: false
                }
            });
            
            // Cover images animation
            gsap.to(".cover-image", {
                x: (index, target) => {
                    switch(target.className.split(' ')[1]) {
                        case 'cover-top': return '0, -100%';
                        case 'cover-right': return '100%, 0';
                        case 'cover-bottom': return '0, 100%';
                        case 'cover-left': return '-100%, 0';
                    }
                },
                y: (index, target) => {
                    switch(target.className.split(' ')[1]) {
                        case 'cover-top': return '-100%';
                        case 'cover-right': return '0';
                        case 'cover-bottom': return '100%';
                        case 'cover-left': return '0';
                    }
                },
                scrollTrigger: {
                    trigger: ".banner",
                    start: "center center",
                    end: "bottom 70%",
                    scrub: true,
                }
            });
            
            // Content animation
            gsap.to(".banner .content", {
                opacity: 1,
                y: 0,
                scrollTrigger: {
                    trigger: ".banner",
                    start: "center center",
                    end: "bottom 70%",
                    scrub: true,
                }
            });
        });
    </script>
</body>
</html>